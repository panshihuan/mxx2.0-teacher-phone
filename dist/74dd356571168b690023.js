webpackJsonp([19],{20:255,25:255,464:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(24),o=r(n),s=a(12),l=r(s),u=a(13),c=r(u),i=a(14),f=r(i),d=a(16),p=r(d),h=a(15),m=r(h),v=a(2),I=r(v),g=a(19);r(g),a(9);a(20),a(25);var k=function(e){function t(e){(0,c.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={selfInfo:{},lab:"",errorInfo:"",error:!1},a.sure=a.sure.bind(a),a.goBack=a.goBack.bind(a),a}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){this.setState({lab:this.props.params.lab})}},{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e="errorInfo";return e+=this.state.error?" show":" hide",I.default.createElement("div",{className:"selfOnly mTp"},I.default.createElement("div",{className:"topBar"},I.default.createElement("div",{className:"topBar-content"},I.default.createElement("div",{className:"topBar-content-main"},"个人中心")),I.default.createElement("div",{onClick:this.goBack,className:"topBar-left"},I.default.createElement("span",null,"<返回")),I.default.createElement("div",{className:"topBar-right"})),I.default.createElement("div",{className:"login-phone"},I.default.createElement("input",{ref:"account",type:"text",placeholder:"输入用户名"})),I.default.createElement("div",{style:{fontSize:"12px",color:"#888",marginTop:"10px"}},"*用户名必须以字母开头,允许包含字母与数字及其组合"),I.default.createElement("p",{style:{paddingLeft:"15px"},className:e},this.state.errorInfo),I.default.createElement("div",{onClick:this.sure,className:"selfOnly-sure"},"修改"))}},{key:"sure",value:function(e){var t={uid:this.props.uid,account:this.refs.account.value};return this.refs.account.value?/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(this.refs.account.value)?(this.setState({errorInfo:"*不能包含中文"}),void this.setState({error:!0})):/^[a-zA-Z]/.test(this.refs.account.value)?void(confirm("确认修改?")&&fetch("http://115.29.177.200:8080/modify/account?token="+this.props.tokens,{method:"PUT",headers:{"Content-Type":"application/json"},body:(0,o.default)(t)}).then(function(e){return e.json()}).then(function(e){0==e.status&&this.context.router.push("self")}.bind(this))):(this.setState({errorInfo:"*用户名必须以英文开头或英文加数字的组合"}),void this.setState({error:!0})):(this.setState({errorInfo:"*用户名必须以英文开头或英文加数字的组合"}),void this.setState({error:!0}))}},{key:"goBack",value:function(){history.back()}}]),t}(I.default.Component);t.default=k,k.defaultProps={tokens:localStorage.getItem("tokens2"),parentId:JSON.parse(localStorage.getItem("parentInfo"))?JSON.parse(localStorage.getItem("parentInfo")).parentId:null,uid:JSON.parse(localStorage.getItem("parentInfo"))?JSON.parse(localStorage.getItem("parentInfo")).userId:null},k.contextTypes={router:I.default.PropTypes.object}}});